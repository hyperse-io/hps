(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,754802,t=>{"use strict";var e=t.i(620502),r=t.i(407983),a=t.i(102256),i=t.i(833448),n=t.i(780262),s=t.i(195923),l=t.i(80926),o=t.i(171206);t.i(947716);var h=t.i(600104),_=t.i(851262),c=t.i(826157),d=t.i(872200),p=t.i(722914),u=t.i(693158),f=t.i(363823),y=t.i(992536),g=t.i(226619),m=t.i(381142),x=t.i(700357),b=t.i(163018),k=t.i(785833),w=t.i(723685),v=t.i(883272),M=(0,o.__name)((t,e,r,a,i,n)=>{e.arrowTypeStart&&S(t,"start",e.arrowTypeStart,r,a,i,n),e.arrowTypeEnd&&S(t,"end",e.arrowTypeEnd,r,a,i,n)},"addEdgeMarkers"),L={arrow_cross:{type:"cross",fill:!1},arrow_point:{type:"point",fill:!0},arrow_barb:{type:"barb",fill:!0},arrow_circle:{type:"circle",fill:!1},aggregation:{type:"aggregation",fill:!1},extension:{type:"extension",fill:!1},composition:{type:"composition",fill:!0},dependency:{type:"dependency",fill:!0},lollipop:{type:"lollipop",fill:!1},only_one:{type:"onlyOne",fill:!1},zero_or_one:{type:"zeroOrOne",fill:!1},one_or_more:{type:"oneOrMore",fill:!1},zero_or_more:{type:"zeroOrMore",fill:!1},requirement_arrow:{type:"requirement_arrow",fill:!1},requirement_contains:{type:"requirement_contains",fill:!1}},S=(0,o.__name)((t,e,r,a,i,n,s)=>{let l=L[r];if(!l)return void o.log.warn(`Unknown arrow type: ${r}`);let h=l.type,_=`${i}_${n}-${h}${"start"===e?"Start":"End"}`;if(s&&""!==s.trim()){let r=s.replace(/[^\dA-Za-z]/g,"_"),i=`${_}_${r}`;if(!document.getElementById(i)){let t=document.getElementById(_);if(t){let e=t.cloneNode(!0);e.id=i,e.querySelectorAll("path, circle, line").forEach(t=>{t.setAttribute("stroke",s),l.fill&&t.setAttribute("fill",s)}),t.parentNode?.appendChild(e)}}t.attr(`marker-${e}`,`url(${a}#${i})`)}else t.attr(`marker-${e}`,`url(${a}#${_})`)},"addEdgeMarker"),$=new Map,E=new Map,T=(0,o.__name)(()=>{$.clear(),E.clear()},"clear"),C=(0,o.__name)(t=>t?t.reduce((t,e)=>t+";"+e,""):"","getLabelStyles"),O=(0,o.__name)(async(t,e)=>{let a,s=(0,l.evaluate)((0,l.getConfig2)().flowchart.htmlLabels),{labelStyles:h}=(0,i.styles2String)(e);e.labelStyle=h;let _=await (0,n.createText)(t,e.label,{style:e.labelStyle,useHtmlLabels:s,addSvgBackground:!0,isNode:!1});o.log.info("abc82",e,e.labelType);let c=t.insert("g").attr("class","edgeLabel"),d=c.insert("g").attr("class","label").attr("data-id",e.id);d.node().appendChild(_);let p=_.getBBox();if(s){let t=_.children[0],e=(0,w.select)(_);p=t.getBoundingClientRect(),e.attr("width",p.width),e.attr("height",p.height)}if(d.attr("transform","translate("+-p.width/2+", "+-p.height/2+")"),$.set(e.id,c),e.width=p.width,e.height=p.height,e.startLabelLeft){let i=await (0,r.createLabel_default)(e.startLabelLeft,C(e.labelStyle)),n=t.insert("g").attr("class","edgeTerminals"),s=n.insert("g").attr("class","inner");a=s.node().appendChild(i);let l=i.getBBox();s.attr("transform","translate("+-l.width/2+", "+-l.height/2+")"),E.get(e.id)||E.set(e.id,{}),E.get(e.id).startLeft=n,R(a,e.startLabelLeft)}if(e.startLabelRight){let i=await (0,r.createLabel_default)(e.startLabelRight,C(e.labelStyle)),n=t.insert("g").attr("class","edgeTerminals"),s=n.insert("g").attr("class","inner");a=n.node().appendChild(i),s.node().appendChild(i);let l=i.getBBox();s.attr("transform","translate("+-l.width/2+", "+-l.height/2+")"),E.get(e.id)||E.set(e.id,{}),E.get(e.id).startRight=n,R(a,e.startLabelRight)}if(e.endLabelLeft){let i=await (0,r.createLabel_default)(e.endLabelLeft,C(e.labelStyle)),n=t.insert("g").attr("class","edgeTerminals"),s=n.insert("g").attr("class","inner");a=s.node().appendChild(i);let l=i.getBBox();s.attr("transform","translate("+-l.width/2+", "+-l.height/2+")"),n.node().appendChild(i),E.get(e.id)||E.set(e.id,{}),E.get(e.id).endLeft=n,R(a,e.endLabelLeft)}if(e.endLabelRight){let i=await (0,r.createLabel_default)(e.endLabelRight,C(e.labelStyle)),n=t.insert("g").attr("class","edgeTerminals"),s=n.insert("g").attr("class","inner");a=s.node().appendChild(i);let l=i.getBBox();s.attr("transform","translate("+-l.width/2+", "+-l.height/2+")"),n.node().appendChild(i),E.get(e.id)||E.set(e.id,{}),E.get(e.id).endRight=n,R(a,e.endLabelRight)}return _},"insertEdgeLabel");function R(t,e){(0,l.getConfig2)().flowchart.htmlLabels&&t&&(t.style.width=9*e.length+"px",t.style.height="12px")}(0,o.__name)(R,"setTerminalWidth");var N=(0,o.__name)((t,e)=>{o.log.debug("Moving label abc88 ",t.id,t.label,$.get(t.id),e);let r=e.updatedPath?e.updatedPath:e.originalPath,i=(0,l.getConfig2)(),{subGraphTitleTotalMargin:n}=(0,a.getSubGraphTitleMargins)(i);if(t.label){let a=$.get(t.id),i=t.x,l=t.y;if(r){let a=s.utils_default.calcLabelPosition(r);o.log.debug("Moving label "+t.label+" from (",i,",",l,") to (",a.x,",",a.y,") abc88"),e.updatedPath&&(i=a.x,l=a.y)}a.attr("transform",`translate(${i}, ${l+n/2})`)}if(t.startLabelLeft){let e=E.get(t.id).startLeft,a=t.x,i=t.y;if(r){let e=s.utils_default.calcTerminalLabelPosition(10*!!t.arrowTypeStart,"start_left",r);a=e.x,i=e.y}e.attr("transform",`translate(${a}, ${i})`)}if(t.startLabelRight){let e=E.get(t.id).startRight,a=t.x,i=t.y;if(r){let e=s.utils_default.calcTerminalLabelPosition(10*!!t.arrowTypeStart,"start_right",r);a=e.x,i=e.y}e.attr("transform",`translate(${a}, ${i})`)}if(t.endLabelLeft){let e=E.get(t.id).endLeft,a=t.x,i=t.y;if(r){let e=s.utils_default.calcTerminalLabelPosition(10*!!t.arrowTypeEnd,"end_left",r);a=e.x,i=e.y}e.attr("transform",`translate(${a}, ${i})`)}if(t.endLabelRight){let e=E.get(t.id).endRight,a=t.x,i=t.y;if(r){let e=s.utils_default.calcTerminalLabelPosition(10*!!t.arrowTypeEnd,"end_right",r);a=e.x,i=e.y}e.attr("transform",`translate(${a}, ${i})`)}},"positionEdgeLabel"),B=(0,o.__name)((t,e)=>{let r=t.x,a=t.y,i=Math.abs(e.x-r),n=Math.abs(e.y-a),s=t.width/2,l=t.height/2;return i>=s||n>=l},"outsideNode"),P=(0,o.__name)((t,e,r)=>{o.log.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(e)}
  insidePoint : ${JSON.stringify(r)}
  node        : x:${t.x} y:${t.y} w:${t.width} h:${t.height}`);let a=t.x,i=t.y,n=Math.abs(a-r.x),s=t.width/2,l=r.x<e.x?s-n:s+n,h=t.height/2,_=Math.abs(e.y-r.y),c=Math.abs(e.x-r.x);if(Math.abs(i-e.y)*s>Math.abs(a-e.x)*h){let t=r.y<e.y?e.y-h-i:i-h-e.y;l=c*t/_;let a={x:r.x<e.x?r.x+l:r.x-c+l,y:r.y<e.y?r.y+_-t:r.y-_+t};return 0===l&&(a.x=e.x,a.y=e.y),0===c&&(a.x=e.x),0===_&&(a.y=e.y),o.log.debug(`abc89 top/bottom calc, Q ${_}, q ${t}, R ${c}, r ${l}`,a),a}{let t=_*(l=r.x<e.x?e.x-s-a:a-s-e.x)/c,i=r.x<e.x?r.x+c-l:r.x-c+l,n=r.y<e.y?r.y+t:r.y-t;return o.log.debug(`sides calc abc89, Q ${_}, q ${t}, R ${c}, r ${l}`,{_x:i,_y:n}),0===l&&(i=e.x,n=e.y),0===c&&(i=e.x),0===_&&(n=e.y),{x:i,y:n}}},"intersection"),W=(0,o.__name)((t,e)=>{o.log.warn("abc88 cutPathAtIntersect",t,e);let r=[],a=t[0],i=!1;return t.forEach(t=>{if(o.log.info("abc88 checking point",t,e),B(e,t)||i)o.log.warn("abc88 outside",t,a),a=t,i||r.push(t);else{let n=P(e,a,t);o.log.debug("abc88 inside",t,a,n),o.log.debug("abc88 intersection",n,e);let s=!1;r.forEach(t=>{s=s||t.x===n.x&&t.y===n.y}),r.some(t=>t.x===n.x&&t.y===n.y)?o.log.warn("abc88 no intersect",n,r):r.push(n),i=!0}}),o.log.debug("returning points",r),r},"cutPathAtIntersect");function A(t){let e=[],r=[];for(let a=1;a<t.length-1;a++){let i=t[a-1],n=t[a],s=t[a+1];i.x===n.x&&n.y===s.y&&Math.abs(n.x-s.x)>5&&Math.abs(n.y-i.y)>5?(e.push(n),r.push(a)):i.y===n.y&&n.x===s.x&&Math.abs(n.x-i.x)>5&&Math.abs(n.y-s.y)>5&&(e.push(n),r.push(a))}return{cornerPoints:e,cornerPointPositions:r}}(0,o.__name)(A,"extractCornerPoints");var H=(0,o.__name)(function(t,e,r){let a=e.x-t.x,i=e.y-t.y,n=r/Math.sqrt(a*a+i*i);return{x:e.x-n*a,y:e.y-n*i}},"findAdjacentPoint"),X=(0,o.__name)(function(t){let{cornerPointPositions:e}=A(t),r=[];for(let a=0;a<t.length;a++)if(e.includes(a)){let e=t[a-1],i=t[a+1],n=t[a],s=H(e,n,5),l=H(i,n,5),h=l.x-s.x,_=l.y-s.y;r.push(s);let c=2*Math.sqrt(2),d={x:n.x,y:n.y};Math.abs(i.x-e.x)>10&&Math.abs(i.y-e.y)>=10?(o.log.debug("Corner point fixing",Math.abs(i.x-e.x),Math.abs(i.y-e.y)),d=n.x===s.x?{x:h<0?s.x-5+c:s.x+5-c,y:_<0?s.y-c:s.y+c}:{x:h<0?s.x-c:s.x+c,y:_<0?s.y-5+c:s.y+5-c}):o.log.debug("Corner point skipping fixing",Math.abs(i.x-e.x),Math.abs(i.y-e.y)),r.push(d,l)}else r.push(t[a]);return r},"fixCorners"),Y=(0,o.__name)((t,e,r)=>{let a=Array(Math.floor((t-e-r)/4)).fill("2 2").join(" ");return`0 ${e} ${a} ${r}`},"generateDashArray"),U=(0,o.__name)(function(t,r,a,n,L,S,$,E=!1){let T,C,{handDrawnSeed:O}=(0,l.getConfig2)(),R=r.points,N=!1,B=[];for(let t in r.cssCompiledStyles)(0,i.isLabelStyle)(t)||B.push(r.cssCompiledStyles[t]);o.log.debug("UIO intersect check",r.points,S.x,L.x),S.intersect&&L.intersect&&!E&&((R=R.slice(1,r.points.length-1)).unshift(L.intersect(R[0])),o.log.debug("Last point UIO",r.start,"-->",r.end,R[R.length-1],S,S.intersect(R[R.length-1])),R.push(S.intersect(R[R.length-1])));let P=btoa(JSON.stringify(R));r.toCluster&&(o.log.info("to cluster abc88",a.get(r.toCluster)),R=W(r.points,a.get(r.toCluster).node),N=!0),r.fromCluster&&(o.log.debug("from cluster abc88",a.get(r.fromCluster),JSON.stringify(R,null,2)),R=W(R.reverse(),a.get(r.fromCluster).node).reverse(),N=!0);let A=R.filter(t=>!Number.isNaN(t.y));A=X(A);let H=h.curveBasis;switch(H=_.curveLinear,r.curve){case"linear":H=_.curveLinear;break;case"basis":default:H=h.curveBasis;break;case"cardinal":H=c.curveCardinal;break;case"bumpX":H=d.curveBumpX;break;case"bumpY":H=p.curveBumpY;break;case"catmullRom":H=u.curveCatmullRom;break;case"monotoneX":H=f.curveMonotoneX;break;case"monotoneY":H=y.curveMonotoneY;break;case"natural":H=g.curveNatural;break;case"step":H=m.curveStep;break;case"stepAfter":H=x.curveStepAfter;break;case"stepBefore":H=b.curveStepBefore}let{x:U,y:j}=(0,e.getLineFunctionsWithOffset)(r),I=(0,k.line)().x(U).y(j).curve(H);switch(r.thickness){case"normal":default:T="edge-thickness-normal";break;case"thick":T="edge-thickness-thick";break;case"invisible":T="edge-thickness-invisible"}switch(r.pattern){case"solid":default:T+=" edge-pattern-solid";break;case"dotted":T+=" edge-pattern-dotted";break;case"dashed":T+=" edge-pattern-dashed"}let D="rounded"===r.curve?z(F(A,r),5):I(A),q=Array.isArray(r.style)?r.style:[r.style],Q=q.find(t=>t?.startsWith("stroke:")),Z=!1;if("handDrawn"===r.look){let e=v.default.svg(t);Object.assign([],A);let a=e.path(D,{roughness:.3,seed:O});T+=" transition";let i=(C=(0,w.select)(a).select("path").attr("id",r.id).attr("class"," "+T+(r.classes?" "+r.classes:"")).attr("style",q?q.reduce((t,e)=>t+";"+e,""):"")).attr("d");C.attr("d",i),t.node().appendChild(C.node())}else{let a=B.join(";"),i=q?q.reduce((t,e)=>t+e+";",""):"",n="";r.animate&&(n=" edge-animation-fast"),r.animation&&(n=" edge-animation-"+r.animation);let s=(a?a+";"+i+";":i)+";"+(q?q.reduce((t,e)=>t+";"+e,""):"");C=t.append("path").attr("d",D).attr("id",r.id).attr("class"," "+T+(r.classes?" "+r.classes:"")+(n??"")).attr("style",s),Q=s.match(/stroke:([^;]+)/)?.[1],Z=!0===r.animate||!!r.animation||a.includes("animation");let l=C.node(),o="function"==typeof l.getTotalLength?l.getTotalLength():0,h=e.markerOffsets2[r.arrowTypeStart]||0,_=e.markerOffsets2[r.arrowTypeEnd]||0;if("neo"===r.look&&!Z){let t="dotted"===r.pattern||"dashed"===r.pattern?Y(o,h,_):`0 ${h} ${o-h-_} ${_}`,e=`stroke-dasharray: ${t}; stroke-dashoffset: 0;`;C.attr("style",e+C.attr("style"))}}C.attr("data-edge",!0),C.attr("data-et","edge"),C.attr("data-id",r.id),C.attr("data-points",P),r.showPoints&&A.forEach(e=>{t.append("circle").style("stroke","red").style("fill","red").attr("r",1).attr("cx",e.x).attr("cy",e.y)});let G="";((0,l.getConfig2)().flowchart.arrowMarkerAbsolute||(0,l.getConfig2)().state.arrowMarkerAbsolute)&&(G=(G=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search).replace(/\(/g,"\\(").replace(/\)/g,"\\)")),o.log.info("arrowTypeStart",r.arrowTypeStart),o.log.info("arrowTypeEnd",r.arrowTypeEnd),M(C,r,G,$,n,Q);let K=Math.floor(R.length/2),J=R[K];s.utils_default.isLabelCoordinateInPath(J,C.attr("d"))||(N=!0);let V={};return N&&(V.updatedPath=R),V.originalPath=r.points,V},"insertEdge");function z(t,e){if(t.length<2)return"";let r="",a=t.length;for(let i=0;i<a;i++){let n=t[i],s=t[i-1],l=t[i+1];if(0===i)r+=`M${n.x},${n.y}`;else if(i===a-1)r+=`L${n.x},${n.y}`;else{let t=n.x-s.x,a=n.y-s.y,i=l.x-n.x,o=l.y-n.y,h=Math.hypot(t,a),_=Math.hypot(i,o);if(h<1e-5||_<1e-5){r+=`L${n.x},${n.y}`;continue}let c=t/h,d=a/h,p=i/_,u=o/_,f=Math.acos(Math.max(-1,Math.min(1,c*p+d*u)));if(f<1e-5||1e-5>Math.abs(Math.PI-f)){r+=`L${n.x},${n.y}`;continue}let y=Math.min(e/Math.sin(f/2),h/2,_/2),g=n.x-c*y,m=n.y-d*y,x=n.x+p*y,b=n.y+u*y;r+=`L${g},${m}Q${n.x},${n.y} ${x},${b}`}}return r}function j(t,e){if(!t||!e)return{angle:0,deltaX:0,deltaY:0};let r=e.x-t.x,a=e.y-t.y;return{angle:Math.atan2(a,r),deltaX:r,deltaY:a}}function F(t,r){let a=t.map(t=>({...t}));if(t.length>=2&&e.markerOffsets[r.arrowTypeStart]){let i=e.markerOffsets[r.arrowTypeStart],n=t[0],{angle:s}=j(n,t[1]),l=i*Math.cos(s),o=i*Math.sin(s);a[0].x=n.x+l,a[0].y=n.y+o}let i=t.length;if(i>=2&&e.markerOffsets[r.arrowTypeEnd]){let n=e.markerOffsets[r.arrowTypeEnd],s=t[i-1],{angle:l}=j(t[i-2],s),o=n*Math.cos(l),h=n*Math.sin(l);a[i-1].x=s.x-o,a[i-1].y=s.y-h}return a}(0,o.__name)(z,"generateRoundedPath"),(0,o.__name)(j,"calculateDeltaAndAngle"),(0,o.__name)(F,"applyMarkerOffsetsToPoints");var I=(0,o.__name)((t,e,r,a)=>{e.forEach(e=>{tn[e](t,r,a)})},"insertMarkers"),D=(0,o.__name)((t,e,r)=>{o.log.trace("Making markers for ",r),t.append("defs").append("marker").attr("id",r+"_"+e+"-extensionStart").attr("class","marker extension "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-extensionEnd").attr("class","marker extension "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),q=(0,o.__name)((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-compositionStart").attr("class","marker composition "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-compositionEnd").attr("class","marker composition "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),Q=(0,o.__name)((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-aggregationStart").attr("class","marker aggregation "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-aggregationEnd").attr("class","marker aggregation "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),Z=(0,o.__name)((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-dependencyStart").attr("class","marker dependency "+e).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-dependencyEnd").attr("class","marker dependency "+e).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),G=(0,o.__name)((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-lollipopStart").attr("class","marker lollipop "+e).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),t.append("defs").append("marker").attr("id",r+"_"+e+"-lollipopEnd").attr("class","marker lollipop "+e).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),K=(0,o.__name)((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-pointEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-pointStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),J=(0,o.__name)((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-circleEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-circleStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),V=(0,o.__name)((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-crossEnd").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-crossStart").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),tt=(0,o.__name)((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),te=(0,o.__name)((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-onlyOneStart").attr("class","marker onlyOne "+e).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M9,0 L9,18 M15,0 L15,18"),t.append("defs").append("marker").attr("id",r+"_"+e+"-onlyOneEnd").attr("class","marker onlyOne "+e).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M3,0 L3,18 M9,0 L9,18")},"only_one"),tr=(0,o.__name)((t,e,r)=>{let a=t.append("defs").append("marker").attr("id",r+"_"+e+"-zeroOrOneStart").attr("class","marker zeroOrOne "+e).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");a.append("circle").attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),a.append("path").attr("d","M9,0 L9,18");let i=t.append("defs").append("marker").attr("id",r+"_"+e+"-zeroOrOneEnd").attr("class","marker zeroOrOne "+e).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),i.append("path").attr("d","M21,0 L21,18")},"zero_or_one"),ta=(0,o.__name)((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-oneOrMoreStart").attr("class","marker oneOrMore "+e).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),t.append("defs").append("marker").attr("id",r+"_"+e+"-oneOrMoreEnd").attr("class","marker oneOrMore "+e).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18")},"one_or_more"),ti=(0,o.__name)((t,e,r)=>{let a=t.append("defs").append("marker").attr("id",r+"_"+e+"-zeroOrMoreStart").attr("class","marker zeroOrMore "+e).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");a.append("circle").attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),a.append("path").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18");let i=t.append("defs").append("marker").attr("id",r+"_"+e+"-zeroOrMoreEnd").attr("class","marker zeroOrMore "+e).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),i.append("path").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"zero_or_more"),tn={extension:D,composition:q,aggregation:Q,dependency:Z,lollipop:G,point:K,circle:J,cross:V,barb:tt,only_one:te,zero_or_one:tr,one_or_more:ta,zero_or_more:ti,requirement_arrow:(0,o.__name)((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-requirement_arrowEnd").attr("refX",20).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("path").attr("d",`M0,0
      L20,10
      M20,10
      L0,20`)},"requirement_arrow"),requirement_contains:(0,o.__name)((t,e,r)=>{let a=t.append("defs").append("marker").attr("id",r+"_"+e+"-requirement_containsStart").attr("refX",0).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("g");a.append("circle").attr("cx",10).attr("cy",10).attr("r",9).attr("fill","none"),a.append("line").attr("x1",1).attr("x2",19).attr("y1",10).attr("y2",10),a.append("line").attr("y1",1).attr("y2",19).attr("x1",10).attr("x2",10)},"requirement_contains")};t.s(["clear",()=>T,"insertEdge",()=>U,"insertEdgeLabel",()=>O,"markers_default",()=>I,"positionEdgeLabel",()=>N])},620502,t=>{"use strict";var e=t.i(171206),r={aggregation:17.25,extension:17.25,composition:17.25,dependency:6,lollipop:13.5,arrow_point:4},a={arrow_point:9,arrow_cross:12.5,arrow_circle:12.5};function i(t,e){if(void 0===t||void 0===e)return{angle:0,deltaX:0,deltaY:0};t=n(t),e=n(e);let[r,a]=[t.x,t.y],[i,s]=[e.x,e.y],l=i-r,o=s-a;return{angle:Math.atan(o/l),deltaX:l,deltaY:o}}(0,e.__name)(i,"calculateDeltaAndAngle");var n=(0,e.__name)(t=>Array.isArray(t)?{x:t[0],y:t[1]}:t,"pointTransformer"),s=(0,e.__name)(t=>({x:(0,e.__name)(function(e,a,s){let l=0,o=n(s[0]).x<n(s[s.length-1]).x?"left":"right";if(0===a&&Object.hasOwn(r,t.arrowTypeStart)){let{angle:e,deltaX:a}=i(s[0],s[1]);l=r[t.arrowTypeStart]*Math.cos(e)*(a>=0?1:-1)}else if(a===s.length-1&&Object.hasOwn(r,t.arrowTypeEnd)){let{angle:e,deltaX:a}=i(s[s.length-1],s[s.length-2]);l=r[t.arrowTypeEnd]*Math.cos(e)*(a>=0?1:-1)}let h=Math.abs(n(e).x-n(s[s.length-1]).x),_=Math.abs(n(e).y-n(s[s.length-1]).y),c=Math.abs(n(e).x-n(s[0]).x),d=Math.abs(n(e).y-n(s[0]).y),p=r[t.arrowTypeStart],u=r[t.arrowTypeEnd];if(h<u&&h>0&&_<u){let t=u+1-h;t*="right"===o?-1:1,l-=t}if(c<p&&c>0&&d<p){let t=p+1-c;t*="right"===o?-1:1,l+=t}return n(e).x+l},"x"),y:(0,e.__name)(function(e,a,s){let l=0,o=n(s[0]).y<n(s[s.length-1]).y?"down":"up";if(0===a&&Object.hasOwn(r,t.arrowTypeStart)){let{angle:e,deltaY:a}=i(s[0],s[1]);l=r[t.arrowTypeStart]*Math.abs(Math.sin(e))*(a>=0?1:-1)}else if(a===s.length-1&&Object.hasOwn(r,t.arrowTypeEnd)){let{angle:e,deltaY:a}=i(s[s.length-1],s[s.length-2]);l=r[t.arrowTypeEnd]*Math.abs(Math.sin(e))*(a>=0?1:-1)}let h=Math.abs(n(e).y-n(s[s.length-1]).y),_=Math.abs(n(e).x-n(s[s.length-1]).x),c=Math.abs(n(e).y-n(s[0]).y),d=Math.abs(n(e).x-n(s[0]).x),p=r[t.arrowTypeStart],u=r[t.arrowTypeEnd];if(h<u&&h>0&&_<u){let t=u+1-h;t*="up"===o?-1:1,l-=t}if(c<p&&c>0&&d<p){let t=p+1-c;t*="up"===o?-1:1,l+=t}return n(e).y+l},"y")}),"getLineFunctionsWithOffset");t.s(["getLineFunctionsWithOffset",()=>s,"markerOffsets",()=>r,"markerOffsets2",()=>a])},833448,t=>{"use strict";var e=t.i(80926),r=t.i(171206),a=(0,r.__name)(t=>{let{handDrawnSeed:r}=(0,e.getConfig2)();return{fill:t,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:t,seed:r}},"solidStateFill"),i=(0,r.__name)(t=>{let e=n([...t.cssCompiledStyles||[],...t.cssStyles||[],...t.labelStyle||[]]);return{stylesMap:e,stylesArray:[...e]}},"compileStyles"),n=(0,r.__name)(t=>{let e=new Map;return t.forEach(t=>{let[r,a]=t.split(":");e.set(r.trim(),a?.trim())}),e},"styles2Map"),s=(0,r.__name)(t=>"color"===t||"font-size"===t||"font-family"===t||"font-weight"===t||"font-style"===t||"text-decoration"===t||"text-align"===t||"text-transform"===t||"line-height"===t||"letter-spacing"===t||"word-spacing"===t||"text-shadow"===t||"text-overflow"===t||"white-space"===t||"word-wrap"===t||"word-break"===t||"overflow-wrap"===t||"hyphens"===t,"isLabelStyle"),l=(0,r.__name)(t=>{let{stylesArray:e}=i(t),r=[],a=[],n=[],l=[];return e.forEach(t=>{let e=t[0];s(e)?r.push(t.join(":")+" !important"):(a.push(t.join(":")+" !important"),e.includes("stroke")&&n.push(t.join(":")+" !important"),"fill"===e&&l.push(t.join(":")+" !important"))}),{labelStyles:r.join(";"),nodeStyles:a.join(";"),stylesArray:e,borderStyles:n,backgroundStyles:l}},"styles2String"),o=(0,r.__name)((t,r)=>{let{themeVariables:a,handDrawnSeed:n}=(0,e.getConfig2)(),{nodeBorder:s,mainBkg:l}=a,{stylesMap:o}=i(t);return Object.assign({roughness:.7,fill:o.get("fill")||l,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:o.get("stroke")||s,seed:n,strokeWidth:o.get("stroke-width")?.replace("px","")||1.3,fillLineDash:[0,0],strokeLineDash:h(o.get("stroke-dasharray"))},r)},"userNodeOverrides"),h=(0,r.__name)(t=>{if(!t)return[0,0];let e=t.trim().split(/\s+/).map(Number);if(1===e.length){let t=isNaN(e[0])?0:e[0];return[t,t]}return[isNaN(e[0])?0:e[0],isNaN(e[1])?0:e[1]]},"getStrokeDashArray");t.s(["compileStyles",()=>i,"isLabelStyle",()=>s,"solidStateFill",()=>a,"styles2String",()=>l,"userNodeOverrides",()=>o])},348033,(t,e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.BLANK_URL=r.relativeFirstCharacters=r.whitespaceEscapeCharsRegex=r.urlSchemeRegex=r.ctrlCharactersRegex=r.htmlCtrlEntityRegex=r.htmlEntitiesRegex=r.invalidProtocolRegex=void 0,r.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im,r.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g,r.htmlCtrlEntityRegex=/&(newline|tab);/gi,r.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,r.urlSchemeRegex=/^.+(:|&colon;)/gim,r.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g,r.relativeFirstCharacters=[".","/"],r.BLANK_URL="about:blank"},139941,(t,e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.sanitizeUrl=void 0;var a=t.r(348033);function i(t){try{return decodeURIComponent(t)}catch(e){return t}}r.sanitizeUrl=function(t){if(!t)return a.BLANK_URL;var e,r=i(t.trim());do e=(r=i(r=r.replace(a.ctrlCharactersRegex,"").replace(a.htmlEntitiesRegex,function(t,e){return String.fromCharCode(e)}).replace(a.htmlCtrlEntityRegex,"").replace(a.ctrlCharactersRegex,"").replace(a.whitespaceEscapeCharsRegex,"").trim())).match(a.ctrlCharactersRegex)||r.match(a.htmlEntitiesRegex)||r.match(a.htmlCtrlEntityRegex)||r.match(a.whitespaceEscapeCharsRegex);while(e&&e.length>0)var n=r;if(!n)return a.BLANK_URL;if(a.relativeFirstCharacters.indexOf(n[0])>-1)return n;var s=n.trimStart(),l=s.match(a.urlSchemeRegex);if(!l)return n;var o=l[0].toLowerCase().trim();if(a.invalidProtocolRegex.test(o))return a.BLANK_URL;var h=s.replace(/\\/g,"/");if("mailto:"===o||o.includes("://"))return h;if("http:"===o||"https:"===o){if(!URL.canParse(h))return a.BLANK_URL;var _=new URL(h);return _.protocol=_.protocol.toLowerCase(),_.hostname=_.hostname.toLowerCase(),_.toString()}return h}},195923,826157,693158,64038,t=>{"use strict";var e,r=t.i(80926),a=t.i(171206),i=t.i(139941);t.i(947716);var n=t.i(600104),s=t.i(910118),l=t.i(593866),o=t.i(872200),h=t.i(722914),_=t.i(677304);function c(t,e){this._basis=new _.Basis(t),this._beta=e}c.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,r=t.length-1;if(r>0)for(var a,i=t[0],n=e[0],s=t[r]-i,l=e[r]-n,o=-1;++o<=r;)a=o/r,this._basis.point(this._beta*t[o]+(1-this._beta)*(i+a*s),this._beta*e[o]+(1-this._beta)*(n+a*l));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};let d=function t(e){function r(t){return 1===e?new _.Basis(t):new c(t,e)}return r.beta=function(e){return t(+e)},r}(.85);var p=t.i(810489);function u(t,e,r){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-r),t._x2,t._y2)}function f(t,e){this._context=t,this._k=(1-e)/6}f.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:u(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t*=1,e*=1,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:u(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};let y=function t(e){function r(t){return new f(t,e)}return r.tension=function(e){return t(+e)},r}(0);function g(t,e){this._context=t,this._k=(1-e)/6}g.prototype={areaStart:p.default,areaEnd:p.default,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t*=1,e*=1,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:u(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};let m=function t(e){function r(t){return new g(t,e)}return r.tension=function(e){return t(+e)},r}(0);function x(t,e){this._context=t,this._k=(1-e)/6}x.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t*=1,e*=1,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:u(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};let b=function t(e){function r(t){return new x(t,e)}return r.tension=function(e){return t(+e)},r}(0);t.s(["curveCardinal",0,y],826157);var k=t.i(810199);function w(t,e,r){var a=t._x1,i=t._y1,n=t._x2,s=t._y2;if(t._l01_a>k.epsilon){var l=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,o=3*t._l01_a*(t._l01_a+t._l12_a);a=(a*l-t._x0*t._l12_2a+t._x2*t._l01_2a)/o,i=(i*l-t._y0*t._l12_2a+t._y2*t._l01_2a)/o}if(t._l23_a>k.epsilon){var h=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,_=3*t._l23_a*(t._l23_a+t._l12_a);n=(n*h+t._x1*t._l23_2a-e*t._l12_2a)/_,s=(s*h+t._y1*t._l23_2a-r*t._l12_2a)/_}t._context.bezierCurveTo(a,i,n,s,t._x2,t._y2)}function v(t,e){this._context=t,this._alpha=e}v.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t*=1,e*=1,this._point){var r=this._x2-t,a=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+a*a,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:w(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};let M=function t(e){function r(t){return e?new v(t,e):new f(t,0)}return r.alpha=function(e){return t(+e)},r}(.5);function L(t,e){this._context=t,this._alpha=e}L.prototype={areaStart:p.default,areaEnd:p.default,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t*=1,e*=1,this._point){var r=this._x2-t,a=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+a*a,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:w(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};let S=function t(e){function r(t){return e?new L(t,e):new g(t,0)}return r.alpha=function(e){return t(+e)},r}(.5);function $(t,e){this._context=t,this._alpha=e}$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t*=1,e*=1,this._point){var r=this._x2-t,a=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+a*a,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:w(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};let E=function t(e){function r(t){return e?new $(t,e):new x(t,0)}return r.alpha=function(e){return t(+e)},r}(.5);t.s(["curveCatmullRom",0,M],693158);var T=t.i(851262),C=t.i(821641),O=t.i(363823),R=t.i(992536),N=t.i(226619),B=t.i(381142),P=t.i(700357),W=t.i(163018),A=t.i(723685),H=t.i(169288),X=t.i(697015),Y=t.i(54677),U=t.i(208986);let z=function(t,e,r){(void 0===r||(0,U.default)(t[e],r))&&(void 0!==r||e in t)||(0,Y.default)(t,e,r)};var j=t.i(840622),F=t.i(275416),I=t.i(905205),D=t.i(92045),q=t.i(651009),Q=t.i(515300),Z=t.i(644071),G=t.i(113431),K=t.i(303745),J=t.i(764929),V=t.i(159110),tt=t.i(835287),te=t.i(652865),tr=t.i(563615),ta=Object.prototype,ti=Function.prototype.toString,tn=ta.hasOwnProperty,ts=ti.call(Object);let tl=function(t){if(!(0,tr.default)(t)||"[object Object]"!=(0,tt.default)(t))return!1;var e=(0,te.default)(t);if(null===e)return!0;var r=tn.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&ti.call(r)==ts};var to=t.i(801645);let th=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]};var t_=t.i(669286),tc=t.i(872585);let td=function(t,e,r,a,i,n,s){var l=th(t,r),o=th(e,r),h=s.get(o);if(h)return void z(t,r,h);var _=n?n(l,o,r+"",t,e,s):void 0,c=void 0===_;if(c){var d=(0,Z.default)(o),p=!d&&(0,K.default)(o),u=!d&&!p&&(0,to.default)(o);(_=o,d||p||u)?(0,Z.default)(l)?_=l:(0,G.default)(l)?_=(0,D.default)(l):p?(c=!1,_=(0,F.default)(o,!0)):u?(c=!1,_=(0,I.default)(o,!0)):_=[]:tl(o)||(0,Q.default)(o)?(_=l,(0,Q.default)(l))?_=(0,t_.default)(l,(0,tc.default)(l)):(!(0,V.default)(l)||(0,J.default)(l))&&(_=(0,q.default)(o)):c=!1}c&&(s.set(o,_),i(_,o,a,n,s),s.delete(o)),z(t,r,_)},tp=function t(e,r,a,i,n){e!==r&&(0,j.default)(r,function(s,l){if(n||(n=new X.default),(0,V.default)(s))td(e,r,l,a,t,i,n);else{var o=i?i(th(e,l),s,l+"",e,r,n):void 0;void 0===o&&(o=s),z(e,l,o)}},tc.default)};var tu=(0,t.i(926770).default)(function(t,e,r){tp(t,e,r)});t.s(["default",0,tu],64038);var tf={curveBasis:n.curveBasis,curveBasisClosed:s.curveBasisClosed,curveBasisOpen:l.curveBasisOpen,curveBumpX:o.curveBumpX,curveBumpY:h.curveBumpY,curveBundle:d,curveCardinalClosed:m,curveCardinalOpen:b,curveCardinal:y,curveCatmullRomClosed:S,curveCatmullRomOpen:E,curveCatmullRom:M,curveLinear:T.curveLinear,curveLinearClosed:C.curveLinearClosed,curveMonotoneX:O.curveMonotoneX,curveMonotoneY:R.curveMonotoneY,curveNatural:N.curveNatural,curveStep:B.curveStep,curveStepAfter:P.curveStepAfter,curveStepBefore:W.curveStepBefore},ty=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,tg=(0,a.__name)(function(t,e){let a=tm(t,/(?:init\b)|(?:initialize\b)/),i={};if(Array.isArray(a)){let t=a.map(t=>t.args);(0,r.sanitizeDirective)(t),i=(0,r.assignWithDepth_default)(i,[...t])}else i=a.args;if(!i)return;let n=(0,r.detectType)(t,e),s="config";return void 0!==i[s]&&("flowchart-v2"===n&&(n="flowchart"),i[n]=i[s],delete i[s]),i},"detectInit"),tm=(0,a.__name)(function(t,e=null){try{let i,n=RegExp(`[%]{2}(?![{]${ty.source})(?=[}][%]{2}).*
`,"ig");t=t.trim().replace(n,"").replace(/'/gm,'"'),a.log.debug(`Detecting diagram directive${null!==e?" type:"+e:""} based on the text:${t}`);let s=[];for(;null!==(i=r.directiveRegex.exec(t));)if(i.index===r.directiveRegex.lastIndex&&r.directiveRegex.lastIndex++,i&&!e||e&&i[1]?.match(e)||e&&i[2]?.match(e)){let t=i[1]?i[1]:i[2],e=i[3]?i[3].trim():i[4]?JSON.parse(i[4].trim()):null;s.push({type:t,args:e})}if(0===s.length)return{type:t,args:null};return 1===s.length?s[0]:s}catch(r){return a.log.error(`ERROR: ${r.message} - Unable to parse directive type: '${e}' based on the text: '${t}'`),{type:void 0,args:null}}},"detectDirective"),tx=(0,a.__name)(function(t){return t.replace(r.directiveRegex,"")},"removeDirectives"),tb=(0,a.__name)(function(t,e){for(let[r,a]of e.entries())if(a.match(t))return r;return -1},"isSubstringInArray");function tk(t,e){return t?tf[`curve${t.charAt(0).toUpperCase()+t.slice(1)}`]??e:e}function tw(t,e){let r=t.trim();if(r)return"loose"!==e.securityLevel?(0,i.sanitizeUrl)(r):r}(0,a.__name)(tk,"interpolateToCurve"),(0,a.__name)(tw,"formatUrl");var tv=(0,a.__name)((t,...e)=>{let r=t.split("."),i=r.length-1,n=r[i],s=window;for(let e=0;e<i;e++)if(!(s=s[r[e]]))return void a.log.error(`Function name: ${t} not found in window`);s[n](...e)},"runFunc");function tM(t,e){return t&&e?Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)):0}function tL(t){let e,r=0;return t.forEach(t=>{r+=tM(t,e),e=t}),tE(t,r/2)}function tS(t){return 1===t.length?t[0]:tL(t)}(0,a.__name)(tM,"distance"),(0,a.__name)(tL,"traverseEdge"),(0,a.__name)(tS,"calcLabelPosition");var t$=(0,a.__name)((t,e=2)=>{let r=Math.pow(10,e);return Math.round(t*r)/r},"roundNumber"),tE=(0,a.__name)((t,e)=>{let r,a=e;for(let e of t){if(r){let t=tM(e,r);if(0===t)return r;if(t<a)a-=t;else{let i=a/t;if(i<=0)return r;if(i>=1)return{x:e.x,y:e.y};if(i>0&&i<1)return{x:t$((1-i)*r.x+i*e.x,5),y:t$((1-i)*r.y+i*e.y,5)}}}r=e}throw Error("Could not find a suitable point for the given distance")},"calculatePoint"),tT=(0,a.__name)((t,e,r)=>{a.log.info(`our points ${JSON.stringify(e)}`),e[0]!==r&&(e=e.reverse());let i=tE(e,25),n=t?10:5,s=Math.atan2(e[0].y-i.y,e[0].x-i.x),l={x:0,y:0};return l.x=Math.sin(s)*n+(e[0].x+i.x)/2,l.y=-Math.cos(s)*n+(e[0].y+i.y)/2,l},"calcCardinalityPosition");function tC(t,e,r){let i=structuredClone(r);a.log.info("our points",i),"start_left"!==e&&"start_right"!==e&&i.reverse();let n=tE(i,25+t),s=10+.5*t,l=Math.atan2(i[0].y-n.y,i[0].x-n.x),o={x:0,y:0};return"start_left"===e?(o.x=Math.sin(l+Math.PI)*s+(i[0].x+n.x)/2,o.y=-Math.cos(l+Math.PI)*s+(i[0].y+n.y)/2):"end_right"===e?(o.x=Math.sin(l-Math.PI)*s+(i[0].x+n.x)/2-5,o.y=-Math.cos(l-Math.PI)*s+(i[0].y+n.y)/2-5):"end_left"===e?(o.x=Math.sin(l)*s+(i[0].x+n.x)/2-5,o.y=-Math.cos(l)*s+(i[0].y+n.y)/2-5):(o.x=Math.sin(l)*s+(i[0].x+n.x)/2,o.y=-Math.cos(l)*s+(i[0].y+n.y)/2),o}function tO(t){let e="",r="";for(let a of t)void 0!==a&&(a.startsWith("color:")||a.startsWith("text-align:")?r=r+a+";":e=e+a+";");return{style:e,labelStyle:r}}(0,a.__name)(tC,"calcTerminalLabelPosition"),(0,a.__name)(tO,"getStylesFromArray");var tR=0,tN=(0,a.__name)(()=>(tR++,"id-"+Math.random().toString(36).substr(2,12)+"-"+tR),"generateId");function tB(t){let e="",r="0123456789abcdef",a=r.length;for(let i=0;i<t;i++)e+=r.charAt(Math.floor(Math.random()*a));return e}(0,a.__name)(tB,"makeRandomHex");var tP=(0,a.__name)(t=>tB(t.length),"random"),tW=(0,a.__name)(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),tA=(0,a.__name)(function(t,e){let a=e.text.replace(r.common_default.lineBreakRegex," "),[,i]=tq(e.fontSize),n=t.append("text");n.attr("x",e.x),n.attr("y",e.y),n.style("text-anchor",e.anchor),n.style("font-family",e.fontFamily),n.style("font-size",i),n.style("font-weight",e.fontWeight),n.attr("fill",e.fill),void 0!==e.class&&n.attr("class",e.class);let s=n.append("tspan");return s.attr("x",e.x+2*e.textMargin),s.attr("fill",e.fill),s.text(a),n},"drawSimpleText"),tH=(0,H.default)((t,e,a)=>{if(!t||(a=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},a),r.common_default.lineBreakRegex.test(t)))return t;let i=t.split(" ").filter(Boolean),n=[],s="";return i.forEach((t,r)=>{let l=tU(`${t} `,a),o=tU(s,a);if(l>e){let{hyphenatedStrings:r,remainingWord:i}=tX(t,e,"-",a);n.push(s,...r),s=i}else o+l>=e?(n.push(s),s=t):s=[s,t].filter(Boolean).join(" ");r+1===i.length&&n.push(s)}),n.filter(t=>""!==t).join(a.joinWith)},(t,e,r)=>`${t}${e}${r.fontSize}${r.fontWeight}${r.fontFamily}${r.joinWith}`),tX=(0,H.default)((t,e,r="-",a)=>{a=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},a);let i=[...t],n=[],s="";return i.forEach((t,l)=>{let o=`${s}${t}`;if(tU(o,a)>=e){let t=i.length===l+1,e=`${o}${r}`;n.push(t?o:e),s=""}else s=o}),{hyphenatedStrings:n,remainingWord:s}},(t,e,r="-",a)=>`${t}${e}${r}${a.fontSize}${a.fontWeight}${a.fontFamily}`);function tY(t,e){return tz(t,e).height}function tU(t,e){return tz(t,e).width}(0,a.__name)(tY,"calculateTextHeight"),(0,a.__name)(tU,"calculateTextWidth");var tz=(0,H.default)((t,e)=>{let{fontSize:a=12,fontFamily:i="Arial",fontWeight:n=400}=e;if(!t)return{width:0,height:0};let[,s]=tq(a),l=t.split(r.common_default.lineBreakRegex),o=[],h=(0,A.select)("body");if(!h.remove)return{width:0,height:0,lineHeight:0};let _=h.append("svg");for(let t of["sans-serif",i]){let e=0,r={width:0,height:0,lineHeight:0};for(let a of l){let i=tW();i.text=a||"​";let l=tA(_,i).style("font-size",s).style("font-weight",n).style("font-family",t),o=(l._groups||l)[0][0].getBBox();if(0===o.width&&0===o.height)throw Error("svg element not in render tree");r.width=Math.round(Math.max(r.width,o.width)),e=Math.round(o.height),r.height+=e,r.lineHeight=Math.round(Math.max(r.lineHeight,e))}o.push(r)}_.remove();let c=isNaN(o[1].height)||isNaN(o[1].width)||isNaN(o[1].lineHeight)||o[0].height>o[1].height&&o[0].width>o[1].width&&o[0].lineHeight>o[1].lineHeight?0:1;return o[c]},(t,e)=>`${t}${e.fontSize}${e.fontWeight}${e.fontFamily}`),tj=class{constructor(t=!1,e){this.count=0,this.count=e?e.length:0,this.next=t?()=>this.count++:()=>Date.now()}static{(0,a.__name)(this,"InitIDGenerator")}},tF=(0,a.__name)(function(t){return e=e||document.createElement("div"),t=escape(t).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),e.innerHTML=t,unescape(e.textContent)},"entityDecode");function tI(t){return"str"in t}(0,a.__name)(tI,"isDetailedError");var tD=(0,a.__name)((t,e,r,a)=>{if(!a)return;let i=t.node()?.getBBox();i&&t.append("text").text(a).attr("text-anchor","middle").attr("x",i.x+i.width/2).attr("y",-r).attr("class",e)},"insertTitle"),tq=(0,a.__name)(t=>{if("number"==typeof t)return[t,t+"px"];let e=parseInt(t??"",10);return Number.isNaN(e)?[void 0,void 0]:t===String(e)?[e,t+"px"]:[e,t]},"parseFontSize");function tQ(t,e){return tu({},t,e)}(0,a.__name)(tQ,"cleanAndMerge");var tZ={assignWithDepth:r.assignWithDepth_default,wrapLabel:tH,calculateTextHeight:tY,calculateTextWidth:tU,calculateTextDimensions:tz,cleanAndMerge:tQ,detectInit:tg,detectDirective:tm,isSubstringInArray:tb,interpolateToCurve:tk,calcLabelPosition:tS,calcCardinalityPosition:tT,calcTerminalLabelPosition:tC,formatUrl:tw,getStylesFromArray:tO,generateId:tN,random:tP,runFunc:tv,entityDecode:tF,insertTitle:tD,isLabelCoordinateInPath:t0,parseFontSize:tq,InitIDGenerator:tj},tG=(0,a.__name)(function(t){let e=t;return(e=(e=e.replace(/style.*:\S*#.*;/g,function(t){return t.substring(0,t.length-1)})).replace(/classDef.*:\S*#.*;/g,function(t){return t.substring(0,t.length-1)})).replace(/#\w+;/g,function(t){let e=t.substring(1,t.length-1);return/^\+?\d+$/.test(e)?"ﬂ°°"+e+"¶ß":"ﬂ°"+e+"¶ß"})},"encodeEntities"),tK=(0,a.__name)(function(t){return t.replace(/ﬂ°°/g,"&#").replace(/ﬂ°/g,"&").replace(/¶ß/g,";")},"decodeEntities"),tJ=(0,a.__name)((t,e,{counter:r=0,prefix:a,suffix:i},n)=>n||`${a?`${a}_`:""}${t}_${e}_${r}${i?`_${i}`:""}`,"getEdgeId");function tV(t){return t??null}function t0(t,e){let r=Math.round(t.x),a=Math.round(t.y),i=e.replace(/(\d+\.\d+)/g,t=>Math.round(parseFloat(t)).toString());return i.includes(r.toString())||i.includes(a.toString())}(0,a.__name)(tV,"handleUndefinedAttr"),(0,a.__name)(t0,"isLabelCoordinateInPath"),t.s(["ZERO_WIDTH_SPACE",()=>"​","calculateTextHeight",()=>tY,"calculateTextWidth",()=>tU,"cleanAndMerge",()=>tQ,"decodeEntities",()=>tK,"encodeEntities",()=>tG,"generateId",()=>tN,"getEdgeId",()=>tJ,"getStylesFromArray",()=>tO,"handleUndefinedAttr",()=>tV,"interpolateToCurve",()=>tk,"isDetailedError",()=>tI,"parseFontSize",()=>tq,"random",()=>tP,"removeDirectives",()=>tx,"utils_default",()=>tZ,"wrapLabel",()=>tH],195923)},102256,t=>{"use strict";var e=(0,t.i(171206).__name)(({flowchart:t})=>{let e=t?.subGraphTitleMargin?.top??0,r=t?.subGraphTitleMargin?.bottom??0;return{subGraphTitleTopMargin:e,subGraphTitleBottomMargin:r,subGraphTitleTotalMargin:e+r}},"getSubGraphTitleMargins");t.s(["getSubGraphTitleMargins",()=>e])}]);